"use strict";const mainNav=document.querySelector(".main-nav"),burgerMenu=document.querySelector(".controls__btn--burger"),pageHeader=document.querySelector(".page-header");mainNav&&(mainNav.classList.remove("main-nav--no-js"),burgerMenu.addEventListener("click",()=>{mainNav.classList.toggle("main-nav--closed")}),window.addEventListener("scroll",(function(){this.pageYOffset>0?pageHeader.classList.add("page-header--scroll"):pageHeader.classList.remove("page-header--scroll")})));const forms=document.querySelectorAll(".filters");forms&&forms.forEach(e=>{const t=e.querySelectorAll(".filters__item"),i=e.querySelectorAll(".filters__btn--set"),s=e.querySelectorAll(".setting-filter"),n=e.querySelectorAll(".filters__btn--reset");t.forEach(e=>{const t=e.querySelector(".filters__input--selector");if(t){const i=e.querySelector(".filters__drop"),s=e.querySelectorAll(".filters__select");t.textContent="Все",t.addEventListener("click",t=>{t.preventDefault(),e.classList.toggle("filters__item--active")}),document.addEventListener("click",(function(s){const n=s.target,a=n==i||i.contains(n),l=n==t,c=e.classList.contains("filters__item--active");a||l||!c||e.classList.toggle("filters__item--active")})),s.forEach(e=>{e.classList.add("filters__select--active");let i=1;e.addEventListener("click",s=>{if(s.preventDefault(),e.classList.contains("filters__select--active"))e.classList.remove("filters__select--active"),t.querySelector(".filters__multiple--more")&&t.querySelector(".filters__multiple")&&t.querySelector(".filters__multiple--more").textContent>1?(i-=1,t.querySelector(".filters__multiple--more").textContent=i):(t.querySelector(".filters__multiple")&&t.querySelector(".filters__multiple--more")&&t.querySelector(".filters__multiple--more").textContent<=1||t.querySelector(".filters__multiple")&&!t.querySelector(".filters__multiple--more"))&&t.removeChild(t.firstChild);else{e.classList.add("filters__select--active");let s=`<span class="filters__multiple">${e.dataset.param}<button class="filters__multiple-del"></button></span>`,n=`<span class="filters__multiple--more">${i}</span>`;"Все"===t.textContent?(t.textContent="",t.insertAdjacentHTML("beforeend",s)):t.querySelector(".filters__multiple--more")?(i+=1,t.querySelector(".filters__multiple--more").textContent=i):t.insertAdjacentHTML("afterbegin",n)}})})}}),s.forEach(e=>{const s=e.querySelector(".setting-filter__btn--cancel"),a=e.querySelector(".setting-filter__btn--ok"),l=e.querySelectorAll(".setting-filter__checkbox");i.forEach(t=>{t.addEventListener("click",()=>{e.classList.contains("setting-filter--active")?e.classList.remove("setting-filter--active"):e.classList.add("setting-filter--active")}),document.addEventListener("click",(function(i){const s=i.target,n=s==e||e.contains(s),a=s==t,l=e.classList.contains("setting-filter--active");n||a||!l||e.classList.toggle("setting-filter--active")}))}),s.addEventListener("click",()=>{e.classList.remove("setting-filter--active")}),l.forEach(e=>{t.forEach(t=>{e.checked&&e.id===t.dataset.filter&&t.classList.add("filters__item--show")})}),a.addEventListener("click",()=>{l.forEach(i=>{t.forEach(t=>{i.checked&&i.id===t.dataset.filter?t.classList.add("filters__item--show"):!1===i.checked&&i.id===t.dataset.filter&&t.classList.remove("filters__item--show"),e.classList.remove("setting-filter--active")})})}),n.forEach(e=>{e.addEventListener("click",()=>{l.forEach(e=>{t.forEach(t=>{"search"!==e.id&&"program"!==e.id&&"trening"!==e.id&&"trener"!==e.id?e.checked=!1:e.checked=!0,"search"!==t.dataset.filter&&"program"!==t.dataset.filter&&"trening"!==t.dataset.filter&&"trener"!==t.dataset.filter?t.classList.remove("filters__item--show"):t.classList.add("filters__item--show")})})})})})});const activity=document.querySelector(".activity");if(activity){const e=activity.querySelectorAll(".activity__link"),t=activity.querySelectorAll(".activity__item");e.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.classList.add("activity__link--active"),e.classList.toggle("activity__link--filter")})}),t.forEach(e=>{const t=e.querySelector(".activity__menu"),i=e.querySelector(".activity__btn");e.addEventListener("click",()=>{t.classList.toggle("activity__menu--active"),e.blur()}),i.addEventListener("click",()=>{t.classList.contains("activity__menu--active")?t.classList.add("activity__menu--active"):t.classList.remove("activity__menu--active"),i.blur()}),document.addEventListener("click",(function(s){const n=s.target,a=n==t||t.contains(n),l=n==e,c=n==i,r=t.classList.contains("activity__menu--active");a||l||c||!r||t.classList.toggle("activity__menu--active")}))})}const $selects=$(".selects");if($selects){const e=$(".selects__select"),t=$(".selects__selector");e.on("click",(function(e){e.preventDefault(),this.blur();let t=$(this);$(this).parent($selects).toggleClass("selects--active"),$(document).on("click",(function(e){t.is(e.target)||t.parent($selects).removeClass("selects--active")}))})),t.on("click",(function(i){i.preventDefault(),$(this).closest($selects).find(e).html($(this).html()),$(this).closest($selects).find(t).removeClass("selects__selector--active"),$(this).addClass("selects__selector--active")}))}const planning=document.querySelector(".planning");if(planning){const e=document.querySelector(".page"),t=document.querySelector(".controls__btn--plan"),i=document.querySelectorAll(".menu-activity__btn--edit"),s=planning.querySelectorAll(".planning__btn"),n=planning.querySelectorAll(".planning__toggle"),a=planning.querySelectorAll(".planning__page");t.addEventListener("click",()=>{planning.classList.add("planning--active"),e.classList.add("page--planning")}),i.forEach(t=>{t.addEventListener("click",()=>{planning.classList.add("planning--active"),e.classList.add("page--planning")})}),s.forEach(t=>{t.addEventListener("click",()=>{planning.classList.remove("planning--active"),e.classList.remove("page--planning")})}),n.forEach(e=>{e.addEventListener("click",t=>{n.forEach(e=>{e.classList.remove("planning__toggle--active")});t.target.classList.add("planning__toggle--active"),a.forEach(t=>{t.classList.remove("planning__page--active"),e.dataset.planning===t.dataset.planning&&t.classList.add("planning__page--active")})})})}const $members=$(".members__list");if($members){const e=$(".members__input--all"),t=$(".members__input"),i=$(".members__drop");function removeMember(){i.children(".members__item").length<2?($(".members__info").fadeIn(1e3),i.children(".members__item--all").fadeOut(500)):i.children(".members__item").length>1&&($(".members__info").fadeOut(1e3),i.children(".members__item--all").fadeIn(500))}e.on("click",(function(){$(this).is(":checked")?$(this).closest(".members__item").nextAll().children(t).prop("checked",!0):$(this).closest(".members__item").nextAll().children(t).prop("checked",!1)})),i.children(".members__item--all").fadeOut(),$((function(){$("#members__list").sortable({containment:$(".members__container"),connectWith:"#members__drop",items:".members__item:not(:first)",snap:"#members__list, #members__drop",snapMode:"inner",snapTolerance:50,activate:function(){i.addClass("members__drop--active")},deactivate:function(){i.removeClass("members__drop--active")}}),i.sortable({containment:$(".members__container"),connectWith:"#members__list",items:".members__item:not(:first)",update:function(){removeMember()}})}));$(".members__del").on("click",(function(){let e=$(this).parent();$(".members__list").append(e),removeMember()}))}jQuery(document).ready((function(){$.datepicker.setDefaults($.datepicker.regional.ru),$("#datepicker1").datepicker({dateFormat:"dd.mm",changeYear:!0,showOn:"button",buttonImage:"../img/svg/calendar.svg",buttonImageOnly:!0}),$("#datepicker2").datepicker({dateFormat:"dd.mm",changeYear:!0,showOn:"button",buttonImage:"../img/svg/calendar.svg",buttonImageOnly:!0}),$("#datepicker3").datepicker({dateFormat:"dd.mm",changeYear:!0,showOn:"button",buttonImage:"../img/svg/calendar.svg",buttonImageOnly:!0})})),function(e){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],e):e(jQuery.datepicker)}((function(e){return e.regional.ru={closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь,","Февраль,","Март,","Апрель,","Май,","Июнь,","Июль,","Август,","Сентябрь,","Октябрь,","Ноябрь,","Декабрь,"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.setDefaults(e.regional.ru),e.regional.ru}));