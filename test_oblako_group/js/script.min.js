"use strict";const mainNav=document.querySelector(".main-nav"),burgerMenu=document.querySelector(".controls__btn--burger"),pageHeader=document.querySelector(".page-header");mainNav&&(mainNav.classList.remove("main-nav--no-js"),burgerMenu.addEventListener("click",()=>{mainNav.classList.toggle("main-nav--closed")}),window.addEventListener("scroll",(function(){this.pageYOffset>0?pageHeader.classList.add("page-header--scroll"):pageHeader.classList.remove("page-header--scroll")})));const $filters=$(".filters");$filters&&$filters.each((function(){const e=$(this).find($(".filters__item")),t=$(this).find($(".filters__btn--set")),i=$(this).find($(".filters__input--selector")),s=$(this).find($(".setting-filter")),n=$(this).find($(".filters__btn--reset")),a=$(this).find($(".setting-filter__btn--cancel")),l=$(this).find($(".setting-filter__btn--ok")),r=$(this).find($(".setting-filter__checkbox"));t.on("click",(function(){let e=$(this);e.blur(),e.siblings(s).toggleClass("setting-filter--active"),e.hasClass("filters__btn--active")?e.removeClass("filters__btn--active"):e.addClass("filters__btn--active"),$(document).on("click",(function(t){e.siblings(s).hasClass("setting-filter--active")||e.removeClass("filters__btn--active")})),$(document).on("click",(function(t){e.is(t.target)||e.siblings(s).is(t.target)||0!==e.siblings(s).has(t.target).length||(e.siblings(s).removeClass("setting-filter--active"),e.removeClass("filters__btn--active"))}))})),n.on("click",(function(){r.each((function(){let t=$(this);e.each((function(){"search"!==t.attr("data-filter")&&"program"!==t.attr("data-filter")&&"trening"!==t.attr("data-filter")&&"trener"!==t.attr("data-filter")?t.prop("checked",!1):t.prop("checked",!0),"search"!==$(this).attr("data-filter")&&"program"!==$(this).attr("data-filter")&&"trening"!==$(this).attr("data-filter")&&"trener"!==$(this).attr("data-filter")?$(this).removeClass("filters__item--show"):$(this).addClass("filters__item--show")}))}))})),a.on("click",(function(){$(this).closest(s).removeClass("setting-filter--active")})),r.each((function(){let t=$(this);e.each((function(){t.is(":checked")&&t.attr("data-filter")===$(this).attr("data-filter")&&$(this).addClass("filters__item--show")}))})),l.on("click",(function(){r.each((function(){let t=$(this);e.each((function(){t.is(":checked")&&t.attr("data-filter")===$(this).attr("data-filter")?$(this).addClass("filters__item--show"):!1===t.is(":checked")&&t.attr("data-filter")===$(this).attr("data-filter")&&$(this).removeClass("filters__item--show")}))})),$(this).closest(s).removeClass("setting-filter--active")})),i.on("click",(function(t){t.preventDefault(),this.blur();let i=$(this),s=$(this).parent(e),n=$(this).parent(e).children(".filters__drop");s.toggleClass("filters__item--active"),$(document).on("click",(function(e){i.is(e.target)||n.is(e.target)||0!==n.has(e.target).length||s.removeClass("filters__item--active")}))})),e.each((function(){const e=$(this).find($(".filters__input--selector")),t=$(this).find($(".filters__select"));let i=1;t.on("click",(function(s){s.preventDefault();let n=$(this).attr("data-param"),a=`<span class="filters__multiple">${n}</span>`,l=`<span class="filters__more">${i}</span>`;$(this).hasClass("filters__select--active")?($(this).removeClass("filters__select--active"),e.children(".filters__more").length>0&&e.children(".filters__more").html()<=1?e.children(".filters__more").remove(".filters__more"):e.children(".filters__more").length>0?(i-=1,e.children(".filters__more").html(i)):0===e.children(".filters__more").length&&e.children(".filters__multiple").remove(".filters__multiple"),t.each((function(){let t=$(this);t.hasClass("filters__select--active")&&e.children(".filters__multiple").text()===n&&e.children(".filters__multiple").html(t.html())}))):($(this).addClass("filters__select--active"),0===e.children().length?e.append(a):e.children(".filters__more").length>0?(i+=1,e.children(".filters__more").html(i)):e.children().length>0&&e.prepend(l))}))}))}));const activity=document.querySelector(".activity");if(activity){const e=activity.querySelectorAll(".activity__link"),t=activity.querySelectorAll(".activity__item");e.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.classList.add("activity__link--active"),e.classList.toggle("activity__link--filter")})}),t.forEach(e=>{const t=e.querySelector(".activity__menu"),i=e.querySelector(".activity__btn");e.addEventListener("click",()=>{t.classList.toggle("activity__menu--active"),e.blur()}),i.addEventListener("click",()=>{t.classList.contains("activity__menu--active")?t.classList.add("activity__menu--active"):t.classList.remove("activity__menu--active"),i.blur()}),document.addEventListener("click",(function(s){const n=s.target,a=n==t||t.contains(n),l=n==e,r=n==i,c=t.classList.contains("activity__menu--active");a||l||r||!c||t.classList.toggle("activity__menu--active")}))})}const $selects=$(".selects");if($selects){const e=$(".selects__select"),t=$(".selects__selector");e.on("click",(function(e){e.preventDefault(),this.blur();let t=$(this);$(this).parent($selects).toggleClass("selects--active"),$(document).on("click",(function(e){t.is(e.target)||t.parent($selects).removeClass("selects--active")}))})),t.on("click",(function(i){i.preventDefault(),$(this).closest($selects).find(e).html($(this).html()),$(this).closest($selects).find(t).removeClass("selects__selector--active"),$(this).addClass("selects__selector--active")}))}const planning=document.querySelector(".planning");if(planning){const e=document.querySelector(".page"),t=document.querySelector(".controls__btn--plan"),i=document.querySelectorAll(".menu-activity__btn--edit"),s=planning.querySelectorAll(".planning__btn"),n=planning.querySelectorAll(".planning__toggle"),a=planning.querySelectorAll(".planning__page");t.addEventListener("click",()=>{planning.classList.add("planning--active"),e.classList.add("page--planning")}),i.forEach(t=>{t.addEventListener("click",()=>{planning.classList.add("planning--active"),e.classList.add("page--planning")})}),s.forEach(t=>{t.addEventListener("click",()=>{planning.classList.remove("planning--active"),e.classList.remove("page--planning")})}),n.forEach(e=>{e.addEventListener("click",t=>{n.forEach(e=>{e.classList.remove("planning__toggle--active")});t.target.classList.add("planning__toggle--active"),a.forEach(t=>{t.classList.remove("planning__page--active"),e.dataset.planning===t.dataset.planning&&t.classList.add("planning__page--active")})})})}const $members=$(".members__list");if($members){const e=$(".members__input--all"),t=$(".members__input"),i=$(".members__drop");function removeMember(){i.children(".members__item").length<2?($(".members__info").fadeIn(1e3),i.children(".members__item--all").fadeOut(500)):i.children(".members__item").length>1&&($(".members__info").fadeOut(1e3),i.children(".members__item--all").fadeIn(500))}e.on("click",(function(){$(this).is(":checked")?$(this).closest(".members__item").nextAll().children(t).prop("checked",!0):$(this).closest(".members__item").nextAll().children(t).prop("checked",!1)})),i.children(".members__item--all").fadeOut(),$((function(){$("#members__list").sortable({containment:$(".members__container"),connectWith:"#members__drop",items:".members__item:not(:first)",snap:"#members__list, #members__drop",snapMode:"inner",snapTolerance:50,activate:function(){i.addClass("members__drop--active")},deactivate:function(){i.removeClass("members__drop--active")}}),i.sortable({containment:$(".members__container"),connectWith:"#members__list",items:".members__item:not(:first)",update:function(){removeMember()}})}));$(".members__del").on("click",(function(){let e=$(this).parent();$(".members__list").append(e),removeMember()}))}jQuery(document).ready((function(){$.datepicker.setDefaults($.datepicker.regional.ru),$("#datepicker1").datepicker({dateFormat:"dd.mm",changeYear:!0,showOn:"button",showOtherMonths:!0,buttonImage:"../img/svg/calendar.svg",buttonImageOnly:!0}),$("#datepicker2").datepicker({dateFormat:"dd.mm",changeYear:!0,showOn:"button",showOtherMonths:!0,buttonImage:"../img/svg/calendar.svg",buttonImageOnly:!0}),$("#datepicker3").datepicker({dateFormat:"dd.mm",changeYear:!0,showOn:"button",showOtherMonths:!0,buttonImage:"../img/svg/calendar.svg",buttonImageOnly:!0})})),function(e){"function"==typeof define&&define.amd?define(["../widgets/datepicker"],e):e(jQuery.datepicker)}((function(e){return e.regional.ru={closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь,","Февраль,","Март,","Апрель,","Май,","Июнь,","Июль,","Август,","Сентябрь,","Октябрь,","Ноябрь,","Декабрь,"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.setDefaults(e.regional.ru),e.regional.ru})),$("#timepicker1").timepicker();